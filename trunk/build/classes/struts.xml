<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.3.dtd">
 
<struts>
	
	<constant name="struts.devMode" value="false"/> 
	
	<include file="org/sourcelesslight/interceptors/struts.interceptors.xml"></include>
	
	
	<package name="friendfinder" namespace="/FriendFinder" extends="struts-default">
		<action name="list" class="org.sourcelesslight.actions.FriendFinderAction">
			<result name="success">/Pages/User/friendfinder.jsp</result>
			<result name="failure" type="redirectAction">
			 	<param name="actionName">welcome</param>
            	<param name="namespace">/</param>
			</result>
		</action>
	</package>
	
	<package name="authentication" namespace="/Authentication" extends="customInterceptors">

		<action name="login" class="org.sourcelesslight.actions.LoginAction">
			<interceptor-ref name="customStack01"/>
			<result name="success" type="redirectAction">
			 	<param name="actionName">welcome</param>
            	<param name="namespace">/</param>
			</result>
			<result name="error">/Pages/Anonymous/Authentication/failure.jsp</result>
		</action>
		
		<action name="logout" class="org.sourcelesslight.actions.LogoutAction">
			<interceptor-ref name="customStack01"/>
			<result name="success" type="redirectAction">
			 	<param name="actionName">welcome</param>
            	<param name="namespace">/</param>
			</result>
			<result name="error">/Pages/Anonymous/Authentication/failure.jsp</result>
		</action>
	
	</package>
	
	<package name="registration" namespace="/Registration" extends="customInterceptors">

		<action name="signup" class="org.sourcelesslight.actions.SignupAction">
			<interceptor-ref name="customStack01"/>
			<result name="success" type="redirectAction">
			 	<param name="actionName">welcome</param>
            	<param name="namespace">/</param>
			</result>
		</action>
		
	</package>
	
	<package name="default" namespace="/" extends="customInterceptors">
		<action name="welcome">
			<interceptor-ref name="homeStack"/>
			<result>Pages/Anonymous/home.jsp</result>
		</action>
	</package>
	
	<package name="" namespace="/" extends="customInterceptors">
		<action name="menu" class="org.sourcelesslight.actions.MenuProviderAction">
			<interceptor-ref name="homeStack"/>
			<result name="success">/Pages/Partial/menu.jsp</result>
		</action>
	</package>
	
	<package name="settings" namespace="/ControlPanel" extends="customInterceptors">
 
		   <action name="settings" class="org.sourcelesslight.actions.SettingsAction">
		   	<interceptor-ref name="userLevelSecurity"/>
			<result name="success">/Pages/User/settings.jsp</result>
		   </action>
		 
		   <action name="savePreferences" class="org.sourcelesslight.actions.SaveSettingsAction">
				<result name="success" type="redirectAction">
				 	<param name="actionName">welcome</param>
	            	<param name="namespace">/</param>
				</result>
		   </action>
		   
  	</package>
	
</struts>